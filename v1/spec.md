# Conceptual Model
A DIAL code acts as the connecting bridge between a physical entity (e.g.: a book, cycle, tree, etc) and the digital representation of what the entity is about (e.g.: topics covered in book, make & model of the cycle, type of tree, etc). This bridge can be enabled via QR code images that encode a URL which returns the digital information about the physical entity. Such QR code images can be distributed or used in the physical world (by placing them on physical entities like books, cycles or trees). Different applications can leverage the information returned by the QR coded URL and provide a wide variety of experience to users based on the context in which the QR code is scanned.


There are two processes involved in DIAL code lifecycle:
- **Publishing**: the process of generating the DIAL codes, associating relevant metadata with the code and making them available for consumption via a DIAL code registry.
- **Consumption**: the process of reading a DIAL code & its metadata, applying userâ€™s & other relevant context, and presenting an experience to the user using the DIAL code metadata and the context.

## Publishing
Publishing of a DIAL code involves the following activities:

1. The publisher generates a unique DIAL code and adds it to a DIAL code registry. The publisher owns all the DIAL codes generated by it, i.e. they could unpublish (remove) a DIAL code generated by them from the registry.
2. Publisher decides the physical entity to which the DIAL code shall be linked with. Updates the DIAL code entry in the registry with the digital metadata of the physical entity.
3. Publisher uses the DIAL code by placing a QR code image (encoded with the DIAL code registry URL) on the physical entity.
4. The QR code encoded URL points to the specific DIAL code entry in the DIAL code registry and the relevant digital metadata associated with the DIAL code will be returned by the registry when the URL is accessed. 

> Note that a single DIAL code can be used on more than one physical entity also.

![Fig: DIAL Code Publishing](https://github.com/sunbird-specs/DIAL-specs/blob/main/v1/images/DIAL_Code_Publish.drawio.png)

_Fig: DIAL Code Publishing_

## Consumption
After the DIAL code is published, multiple apps can use that information to create personalised experiences for the users when the DIAL code is consumed:

1. Users use an application to scan the QR code placed on a physical entity.
2. Applications use the URL encoded in the QR code image to get the metadata of what the DIAL code is used for, i.e. the description of the physical entity.
3. In addition to the metadata of the physical entity, applications will also have more context of who, when and where the DIAL code is used. Using both these information, the applications present relevant learning content, activities or other experiences to the user.

![Fig: DIAL Code Consumption ](https://github.com/sunbird-specs/DIAL-specs/blob/main/v1/images/DIAL_code_consumption.drawio.png)

_Fig: DIAL Code Consumption_

# NDEAR Use Case
The below diagram illustrates how the DIAL code specifications can be used in the context of Indian education.

![Fig: NDEAR DIAL Registry](https://github.com/sunbird-specs/DIAL-specs/blob/main/v1/images/QR%20and%20Discovery%20infographics.png)

_Fig: NDEAR DIAL Registry_

In the above diagram, the left side illustrates the DIAL code publishing and the right side shows the DIAL code consumption. Multiple applications (by governments, NGOs and private players) can be built for different use cases like Foundational Learning (FLN), remedial activities, Exam preparation, etc.

# DIAL Specification
DIAL specification defines the standards/protocol for the following:

1. DIAL URL structure to be used for linking the physical entity with the DIAL registry 
2. Resource Descriptor Schema specification for representing digital metadata of entities  

## DIAL URL Specification
The URL for DIAL codes shall be in the following format:

```
<protocol>://<dial-registry-domain>/DIAL/<spec-version-number>/<dial-code-value> 
```

- **_protocol_**: the protocol should be **_https_** for usage in production versions. **_http_** can be used for development or testing purposes.
- **_dial-registry-domain_**: this should be the domain where the DIAL registry is hosted.
- **_spec-version-number_**: currently, **_v1_** should be used as the specification version number.
- **_dial-code-value_**: this is the actual value of the dial code generated in the publishing process. The generated dial codes should not contain any characters that are not allowed in HTTP URLs or require encoding to be embedded in the URL (e.g.: characters like &, <, >, etc). It is recommended to use only alphabets and numbers in the dial code values.

### Examples
- DIAL code URL in DIKSHA DIAL registry: https://diksha.gov.in/DIAL/v1/WYG392
- DIAL code URL in SWAYAM DIAL registry: https://swayam.gov.in/DIAL/v1/872IUWY82
- DIAL code URL in a private publisher registry: https://example.com/DIAL/v1/SHIWY2329

## Resource Descriptor Schema
The DIAL resource descriptor schema specification uses the following standards for defining a resource (entity):

- RDF 1.1 is used as the means for expressing the metadata about a resource.
- JSON-LD is the preferred serialization format for representing the resource descriptors. However, implementations are free to choose other serialisation formats like RDFs, Turtle, etc.
  - For implementations that are not comfortable with JSON-LD, the convenient serialisation format could be JSON. In such cases, use [HTTP link headers](https://www.w3.org/TR/json-ld11/#interpreting-json-as-json-ld) on how to refer to context documents using JSON.
- The specification uses (and in some places extends) the vocabulary of Classes and Properties described by schema.org.
- Additionally, the specification defines some new classes. Each class used in the specification must be defined in terms of an RDF schema. Implementations of this spec need to publish the schema at a specific web URL for validation and consumption of DIAL resource descriptor data.

### Schema Extensions
The schema defines the following new classes & properties for resource description:

**Classes:**
- DIALCode: represents a DIAL Code object. 
- Entity: represents an entity associated with a DIAL code.
- EntityType: enumeration of entity types supported in this implementation.

**Properties:**
- linkedTo: to specify the entity object linked to a DIAL code
- entityType: to specify the type of entity linked to a DIAL code
- reference: to provide reference to an entity instance (e.g. a specific textbook or textbook unit)
- metadata: to define the metadata of the linked entity

**Linking Textbooks**

In addition to the above, the specification also defines classes & properties for using DIAL codes in school textbooks. The following classes and properties are defined to represent textbooks and textbook units linked with DIAL codes:

- Textbook & TextbookUnit: enum values for the EntityType enumeration
- TextbookRef: reference to a textbook entity
- TextbookUnitRef: reference to textbook unit entity
- TextbookMetadata: metadata of a textbook or textbook unit

- textbookUnitRef: to specify association between a textbook and a textbook unit
- textbookRef: to specify the textbook to which a textbook unit belongs to
- framework, board, medium, gradeLevel, subject & topic: to specify the taxonomy framework metadata of textbooks and textbook units

[JSON-LD Schema Definition](https://github.com/sunbird-specs/DIAL-specs/blob/main/v1/schema.jsonld)

### Vocabulary
This [document](https://github.com/sunbird-specs/DIAL-specs/blob/main/v1/context.json) describes the vocabulary used for representing resource descriptions.

### Examples

1. [DIAL code published by NCERT and linked to a chapter in CBSE Class 1 English textbook](https://github.com/sunbird-specs/DIAL-specs/blob/main/v1/examples/example1.json)
2. [DIAL code published by NCERT and linked to CBSE Class 1 English textbook](https://github.com/sunbird-specs/DIAL-specs/blob/main/v1/examples/example2.json)

